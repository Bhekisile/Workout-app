{
  "version": 3,
  "sources": ["../../javascript/exercise.js"],
  "sourcesContent": ["$(document).ready(function() {\r\n  $(\"#exercise_workout_date\").datepicker({ dateFormat: 'yy-mm-dd' });\r\n  \r\n  var regex = /\\/users\\/\\d+\\/exercises$|\\/friendships\\/d+$/i;\r\n  if($(location).attr('pathname').match(regex)) {\r\n    drawChart();\r\n  }\r\n});\r\n\r\nvar drawChart = function() {\r\n  var margin = { top: 100, right: 20, bottom: 100, left: 50 },\r\n      width  = 600 - margin.left - margin.right,\r\n      height = 450 - margin.top - margin.bottom;\r\n  var JSONData = $(\"#chart\").data(\"workouts\");\r\n // console.log(JSONData);\r\n  if (!JSONData) {\r\n    // console.log(\"No data found\");\r\n    return;\r\n}\r\n \r\n  var data = JSONData.slice()\r\n  \r\n  var parseTime = d3.timeParse(\"%Y-%m-%d\");\r\n  \r\n  var workoutFn = function(d) { return d.duration_in_min }\r\n  var dateFn = function(d) { return parseTime(d.workout_date) }\r\n  \r\n  var x = d3.scaleTime()\r\n    .range([0, width])\r\n    .domain(d3.extent(data, dateFn))\r\n  \r\n  var y = d3.scaleLinear()\r\n    .range([height, 0])\r\n    .domain([0, d3.max(data, workoutFn)])\r\n  \r\n  var workout_line = d3.line()\r\n      .x(function(d) { return x(d.workout_date); })\r\n      .y(function(d) { return y(d.duration_in_min);  });\r\n  \r\n  data.forEach(function(d) {\r\n    d.workout_date = parseTime(d.workout_date);\r\n    d.duration_in_min = +d.duration_in_min;\r\n  });\r\n  \r\n  var svg = d3.select(\"#chart\").append(\"svg\")\r\n  .attr(\"width\", width + margin.left + margin.right)\r\n  .attr(\"height\", height + margin.top + margin.bottom)\r\n  .append(\"g\")\r\n    .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n  \r\n    svg.append(\"path\")\r\n        .attr(\"class\", \"line\")\r\n        .attr(\"d\", workout_line(data));\r\n  \r\n  svg.append(\"g\")\r\n   .attr(\"class\", \"x axis\")\r\n   .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n   .call(d3.axisBottom(x)\r\n      .ticks(d3.timeDay.every(1))\r\n      .tickFormat(d3.timeFormat('%Y-%m-%d'))\r\n    )\r\n   .selectAll(\"text\")\r\n      .style(\"text-anchor\", \"end\")\r\n      .attr(\"dx\", \"-.8em\")\r\n      .attr(\"dy\", \".15em\")\r\n      .attr(\"transform\", \"rotate(-60)\");\r\n  \r\n   // x axis label\r\n   svg.append(\"text\")\r\n      .attr(\"x\", width / 2)\r\n      .attr(\"y\", height + margin.top - 15)\r\n      .style(\"text-anchor\", \"middle\")\r\n      .text(\"Date of workout\")\r\n  \r\n   svg.append(\"g\")\r\n    .attr(\"class\", \"y axis\")\r\n    .call(d3.axisLeft(y).ticks(4));\r\n  \r\n  // y axis label\r\n  svg.append(\"text\")\r\n     .attr(\"transform\", \"rotate(-90)\")\r\n     .attr(\"y\", 0 - margin.left)\r\n     .attr(\"x\", 0 - (height / 2))\r\n     .attr(\"dy\", \"1em\")\r\n     .style(\"text-anchor\", \"middle\")\r\n     .text(\"Workout duration (min)\")\r\n  \r\n   // Chat title\r\n   svg.append(\"text\")\r\n      .attr(\"x\", (width / 2))\r\n      .attr(\"y\", 0 - (margin.top / 2))\r\n      .style(\"text-anchor\", \"middle\")\r\n      .style(\"font-size\", \"18px\")\r\n      .style(\"text-decoration\", \"underline\")\r\n      .text(\"Workout duration vs Workout date\")\r\n};"],
  "mappings": "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",
  "names": []
}
